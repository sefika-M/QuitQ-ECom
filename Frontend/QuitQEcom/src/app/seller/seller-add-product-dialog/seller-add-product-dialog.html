<form [formGroup]="productForm" (ngSubmit)="addProduct()" class="dialog-form">
  <div class="dialog-header">Add New Product</div>
  <div class="dialog-form-content">
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Product Name</mat-label>
      <input matInput formControlName="productName" required />
    </mat-form-field>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Price (â‚¹)</mat-label>
      <input matInput type="number" formControlName="price" required />
    </mat-form-field>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Stock</mat-label>
      <input matInput type="number" formControlName="stock" required />
    </mat-form-field>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Category</mat-label>
      <mat-select formControlName="catId" required>
        <mat-option *ngFor="let cat of categories" [value]="cat.catId">{{ cat.catName }}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Description</mat-label>
      <textarea matInput rows="2" formControlName="description"></textarea>
    </mat-form-field>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Image URL</mat-label>
      <input matInput formControlName="imageUrl" (input)="previewImage(productForm.value.imageUrl)" />
    </mat-form-field>
    <img *ngIf="imagePreview" [src]="imagePreview || '/assets/default-product.jpg'" alt="Preview" class="preview-image" />
  </div>
  <div class="dialog-actions">
    <button mat-button (click)="close()">Cancel</button>
    <button mat-raised-button color="primary" type="submit" [disabled]="!productForm.valid">Save</button>
  </div>
</form>
